function t(t,e,o,s){Object.defineProperty(t,e,{get:o,set:s,enumerable:!0,configurable:!0})}var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire6158;e.register("3g50G",(function(o,s){t(o.exports,"DestroyUpdater",(()=>l));var i=e("i0lBz"),n=e("lErJz"),r=e("1o7M1");class l{constructor(t,e){this.container=e,this.engine=t}init(t){const e=this.container,o=t.options.destroy;if(!o)return;t.splitCount=0;const s=o.bounds;t.destroyBounds||(t.destroyBounds={});const{bottom:n,left:r,right:l,top:a}=s,{destroyBounds:c}=t,u=e.canvas.size;n&&(c.bottom=(0,i.getRangeValue)(n)*u.height/i.percentDenominator),r&&(c.left=(0,i.getRangeValue)(r)*u.width/i.percentDenominator),l&&(c.right=(0,i.getRangeValue)(l)*u.width/i.percentDenominator),a&&(c.top=(0,i.getRangeValue)(a)*u.height/i.percentDenominator)}isEnabled(t){return!t.destroyed}loadOptions(t,...e){t.destroy||(t.destroy=new(0,n.Destroy));for(const o of e)t.destroy.load(o?.destroy)}particleDestroyed(t,e){if(e)return;const o=t.options.destroy;o&&"split"===o.mode&&(0,r.split)(this.engine,this.container,t)}update(t){if(!this.isEnabled(t))return;const e=t.getPosition(),o=t.destroyBounds;o&&(void 0!==o.bottom&&e.y>=o.bottom||void 0!==o.left&&e.x<=o.left||void 0!==o.right&&e.x>=o.right||void 0!==o.top&&e.y<=o.top)&&t.destroy()}}})),e.register("lErJz",(function(o,s){t(o.exports,"Destroy",(()=>r));var i=e("3Y5HW"),n=e("evs3U");class r{constructor(){this.bounds=new(0,i.DestroyBounds),this.mode="none",this.split=new(0,n.Split)}load(t){t&&(t.mode&&(this.mode=t.mode),t.bounds&&this.bounds.load(t.bounds),this.split.load(t.split))}}})),e.register("3Y5HW",(function(o,s){t(o.exports,"DestroyBounds",(()=>n));var i=e("i0lBz");class n{load(t){t&&(void 0!==t.bottom&&(this.bottom=(0,i.setRangeValue)(t.bottom)),void 0!==t.left&&(this.left=(0,i.setRangeValue)(t.left)),void 0!==t.right&&(this.right=(0,i.setRangeValue)(t.right)),void 0!==t.top&&(this.top=(0,i.setRangeValue)(t.top)))}}})),e.register("evs3U",(function(o,s){t(o.exports,"Split",(()=>l));var i=e("i0lBz"),n=e("jYZIQ"),r=e("bm37k");class l{constructor(){this.count=1,this.factor=new(0,n.SplitFactor),this.rate=new(0,r.SplitRate),this.sizeOffset=!0}load(t){t&&(void 0!==t.color&&(this.color=i.OptionsColor.create(this.color,t.color)),void 0!==t.count&&(this.count=t.count),this.factor.load(t.factor),this.rate.load(t.rate),this.particles=(0,i.executeOnSingleOrMultiple)(t.particles,(t=>(0,i.deepExtend)({},t))),void 0!==t.sizeOffset&&(this.sizeOffset=t.sizeOffset),t.colorOffset&&(this.colorOffset=this.colorOffset??{},void 0!==t.colorOffset.h&&(this.colorOffset.h=t.colorOffset.h),void 0!==t.colorOffset.s&&(this.colorOffset.s=t.colorOffset.s),void 0!==t.colorOffset.l&&(this.colorOffset.l=t.colorOffset.l)))}}})),e.register("jYZIQ",(function(o,s){t(o.exports,"SplitFactor",(()=>n));var i=e("i0lBz");class n extends i.ValueWithRandom{constructor(){super(),this.value=3}}})),e.register("bm37k",(function(o,s){t(o.exports,"SplitRate",(()=>n));var i=e("i0lBz");class n extends i.ValueWithRandom{constructor(){super(),this.value={min:4,max:9}}}})),e.register("1o7M1",(function(o,s){t(o.exports,"split",(()=>r));var i=e("i0lBz");function n(t,e,o,s){const n=o.options.destroy;if(!n)return;const r=n.split,l=(0,i.loadParticlesOptions)(t,e,o.options),a=(0,i.getRangeValue)(r.factor.value),c=o.getFillColor();r.color?l.color.load(r.color):r.colorOffset&&c?l.color.load({value:{hsl:{h:c.h+(0,i.getRangeValue)(r.colorOffset.h??0),s:c.s+(0,i.getRangeValue)(r.colorOffset.s??0),l:c.l+(0,i.getRangeValue)(r.colorOffset.l??0)}}}):l.color.load({value:{hsl:o.getFillColor()}}),l.move.load({center:{x:o.position.x,y:o.position.y,mode:"precise"}}),(0,i.isNumber)(l.size.value)?l.size.value/=a:(l.size.value.min/=a,l.size.value.max/=a),l.load(s);const u=r.sizeOffset?(0,i.setRangeValue)(-o.size.value,o.size.value):0,d={x:o.position.x+(0,i.randomInRange)(u),y:o.position.y+(0,i.randomInRange)(u)};return e.particles.addParticle(d,l,o.group,(t=>!(t.size.value<.5)&&(t.velocity.length=(0,i.randomInRange)((0,i.setRangeValue)(o.velocity.length,t.velocity.length)),t.splitCount=(o.splitCount??0)+1,t.unbreakable=!0,setTimeout((()=>{t.unbreakable=!1}),500),!0)))}function r(t,e,o){const s=o.options.destroy;if(!s)return;const r=s.split;if(r.count>=0&&(void 0===o.splitCount||o.splitCount++>r.count))return;const l=(0,i.getRangeValue)(r.rate.value),a=(0,i.itemFromSingleOrMultiple)(r.particles);for(let s=0;s<l;s++)n(t,e,o,a)}}));
//# sourceMappingURL=DestroyUpdater.7f58ad07.js.map
