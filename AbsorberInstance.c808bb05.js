var i=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire6158;i.register("bdf2X",(function(t,s){var o,e,n,r;o=t.exports,e="AbsorberInstance",n=()=>d,Object.defineProperty(o,e,{get:n,set:r,enumerable:!0,configurable:!0});var a=i("i0lBz"),c=i("iCNdJ");const h=0,l=0,b=2*Math.PI;class d{constructor(i,t,s,o){this.absorbers=i,this.container=t,this._calcPosition=()=>{const i=(0,a.calcPositionOrRandomFromSizeRanged)({size:this.container.canvas.size,position:this.options.position});return a.Vector.create(i.x,i.y)},this._updateParticlePosition=(i,t)=>{if(i.destroyed)return;const s=this.container,o=s.canvas.size;if(i.needsNewPosition){const t=(0,a.calcPositionOrRandomFromSize)({size:o});i.position.setTo(t),i.velocity.setTo(i.initialVelocity),i.absorberOrbit=void 0,i.needsNewPosition=!1}if(this.options.orbits){if(void 0===i.absorberOrbit&&(i.absorberOrbit=a.Vector.origin,i.absorberOrbit.length=(0,a.getDistance)(i.getPosition(),this.position),i.absorberOrbit.angle=(0,a.getRandom)()*b),i.absorberOrbit.length<=this.size&&!this.options.destroy){const t=Math.min(o.width,o.height),s=1,e=.1,n=.2;i.absorberOrbit.length=t*(s+((0,a.getRandom)()*n-e))}void 0===i.absorberOrbitDirection&&(i.absorberOrbitDirection=i.velocity.x>=0?"clockwise":"counter-clockwise");const e=i.absorberOrbit.length,n=i.absorberOrbit.angle,r=i.absorberOrbitDirection;i.velocity.setTo(a.Vector.origin);const c={x:"clockwise"===r?Math.cos:Math.sin,y:"clockwise"===r?Math.sin:Math.cos};i.position.x=this.position.x+e*c.x(n),i.position.y=this.position.y+e*c.y(n),i.absorberOrbit.length-=t.length,i.absorberOrbit.angle+=(i.retina.moveSpeed??0)*s.retina.pixelRatio/a.percentDenominator*s.retina.reduceFactor}else{const s=a.Vector.origin;s.length=t.length,s.angle=t.angle,i.velocity.addTo(s)}},this.initialPosition=o?a.Vector.create(o.x,o.y):void 0,s instanceof c.Absorber?this.options=s:(this.options=new(0,c.Absorber),this.options.load(s)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=(0,a.getRangeValue)(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const e=this.options.size.limit;this.limit={radius:e.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:e.mass},this.color=(0,a.rangeColorToRgb)(this.options.color)??{b:0,g:0,r:0},this.position=this.initialPosition?.copy()??this._calcPosition()}attract(i){const t=this.container,s=this.options;if(s.draggable){const i=t.interactivity.mouse;if(i.clicking&&i.downPosition){(0,a.getDistance)(this.position,i.downPosition)<=this.size&&(this.dragging=!0)}else this.dragging=!1;this.dragging&&i.position&&(this.position.x=i.position.x,this.position.y=i.position.y)}const o=i.getPosition(),{dx:e,dy:n,distance:r}=(0,a.getDistances)(this.position,o),c=a.Vector.create(e,n);if(c.length=this.mass/Math.pow(r,2)*t.retina.reduceFactor,r<this.size+i.getRadius()){const o=.033*i.getRadius()*t.retina.pixelRatio;this.size>i.getRadius()&&r<this.size-i.getRadius()||void 0!==i.absorberOrbit&&i.absorberOrbit.length<0?s.destroy?i.destroy():(i.needsNewPosition=!0,this._updateParticlePosition(i,c)):(s.destroy&&(i.size.value-=o),this._updateParticlePosition(i,c)),(this.limit.radius<=0||this.size<this.limit.radius)&&(this.size+=o),(this.limit.mass<=0||this.mass<this.limit.mass)&&(this.mass+=o*this.options.size.density*t.retina.reduceFactor)}else this._updateParticlePosition(i,c)}draw(i){i.translate(this.position.x,this.position.y),i.beginPath(),i.arc(h,l,this.size,0,b,!1),i.closePath(),i.fillStyle=(0,a.getStyleFromRgb)(this.color,this.opacity),i.fill()}resize(){const i=this.initialPosition;this.position=i&&(0,a.isPointInside)(i,this.container.canvas.size,a.Vector.origin)?i:this._calcPosition()}}}));
//# sourceMappingURL=AbsorberInstance.c808bb05.js.map
