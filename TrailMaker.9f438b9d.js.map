{"mappings":"iUAAA,IAAAA,EAAAC,EAAA,S,aAEA,MAAMC,EAAY,QACX,MAAMC,UAAmBH,EAAAI,uBAC5BC,YAAYC,GACRC,MAAMD,GACNE,KAAKC,OAAS,C,CAElBC,QAAQ,CAERC,OAAO,CAEPC,SAASC,GACL,MAAMP,EAAYE,KAAKF,WAAWQ,cAAEA,GAAkBR,EACtD,IAAKA,EAAUS,OAAOC,aAClB,OAEJ,MAAyCC,EAAzBX,EAAUY,cAAsCJ,cAAcK,MAAMC,MACpF,IAAKH,EACD,OAEJ,MAAMI,EAAWJ,EAAcK,MAAQtB,EAAAuB,sBAAyBf,KAAKF,UAAUS,OAAOC,aAItF,GAHIR,KAAKC,OAASY,IACdb,KAAKC,QAAUI,EAAMW,OAErBhB,KAAKC,OAASY,EACd,OAEJ,MAAMI,IAAYR,EAAaS,cAC1BZ,EAAca,MAAMC,WAAapB,KAAKqB,eAClCf,EAAca,MAAMC,UAAUE,IAAMtB,KAAKqB,eAAeC,GACrDhB,EAAca,MAAMC,UAAUG,IAAMvB,KAAKqB,eAAeE,IAC9DC,EAAW1B,EAAUQ,cAAca,MAAMC,SAC3CI,EACAxB,KAAKqB,cAAgB,IAAKG,UAGnBxB,KAAKqB,cAEZJ,GACAnB,EAAU2B,UAAUC,KAAKjB,EAAakB,SAAU7B,EAAUQ,cAAca,MAAOV,EAAagB,WAEhGzB,KAAKC,QAAUY,C,CAEnBe,UAAUC,GACN,MAAM/B,EAAYE,KAAKF,UAAWgC,EAAUhC,EAAUY,cAAeS,EAAQrB,EAAUQ,cAAca,MAAOY,GAAUF,GAAUvB,eAAiBwB,EAAQxB,eAAeyB,OACxK,OAAQZ,EAAOa,UAAYb,EAAMc,UAAYd,EAAMC,WAAY,EAAA5B,EAAA0C,WAAUxC,EAAWqC,EAAOI,QAAQC,OAC9FjB,EAAMc,UAAYd,EAAMC,WAAY,EAAA5B,EAAA0C,WAAUxC,EAAWqC,EAAOM,QAAQD,K,CAEjFE,gBAAgBR,KAAYS,GACnBT,EAAQlB,QACTkB,EAAQlB,MAAQ,IAAI,EAAA4B,EAAAC,QAExB,IAAK,MAAMC,KAAUH,EACjBT,EAAQlB,MAAM+B,KAAKD,GAAQ9B,M,CAGnCgC,QAAQ,E","sources":["node_modules/@tsparticles/interaction-external-trail/browser/TrailMaker.js"],"sourcesContent":["import { ExternalInteractorBase, isInArray, millisecondsToSeconds, } from \"@tsparticles/engine\";\nimport { Trail } from \"./Options/Classes/Trail.js\";\nconst trailMode = \"trail\";\nexport class TrailMaker extends ExternalInteractorBase {\n    constructor(container) {\n        super(container);\n        this._delay = 0;\n    }\n    clear() {\n    }\n    init() {\n    }\n    interact(delta) {\n        const container = this.container, { interactivity } = container;\n        if (!container.retina.reduceFactor) {\n            return;\n        }\n        const options = container.actualOptions, trailOptions = options.interactivity.modes.trail;\n        if (!trailOptions) {\n            return;\n        }\n        const optDelay = (trailOptions.delay * millisecondsToSeconds) / this.container.retina.reduceFactor;\n        if (this._delay < optDelay) {\n            this._delay += delta.value;\n        }\n        if (this._delay < optDelay) {\n            return;\n        }\n        const canEmit = !(trailOptions.pauseOnStop &&\n            (interactivity.mouse.position === this._lastPosition ||\n                (interactivity.mouse.position?.x === this._lastPosition?.x &&\n                    interactivity.mouse.position?.y === this._lastPosition?.y)));\n        const mousePos = container.interactivity.mouse.position;\n        if (mousePos) {\n            this._lastPosition = { ...mousePos };\n        }\n        else {\n            delete this._lastPosition;\n        }\n        if (canEmit) {\n            container.particles.push(trailOptions.quantity, container.interactivity.mouse, trailOptions.particles);\n        }\n        this._delay -= optDelay;\n    }\n    isEnabled(particle) {\n        const container = this.container, options = container.actualOptions, mouse = container.interactivity.mouse, events = (particle?.interactivity ?? options.interactivity).events;\n        return ((mouse.clicking && mouse.inside && !!mouse.position && isInArray(trailMode, events.onClick.mode)) ||\n            (mouse.inside && !!mouse.position && isInArray(trailMode, events.onHover.mode)));\n    }\n    loadModeOptions(options, ...sources) {\n        if (!options.trail) {\n            options.trail = new Trail();\n        }\n        for (const source of sources) {\n            options.trail.load(source?.trail);\n        }\n    }\n    reset() {\n    }\n}\n"],"names":["$i0lBz","parcelRequire","$422ef0f07d62bfde$var$trailMode","$422ef0f07d62bfde$export$7e8e09e16f016468","ExternalInteractorBase","constructor","container","super","this","_delay","clear","init","interact","delta","interactivity","retina","reduceFactor","trailOptions","actualOptions","modes","trail","optDelay","delay","millisecondsToSeconds","value","canEmit","pauseOnStop","mouse","position","_lastPosition","x","y","mousePos","particles","push","quantity","isEnabled","particle","options","events","clicking","inside","isInArray","onClick","mode","onHover","loadModeOptions","sources","$6ALmi","Trail","source","load","reset"],"version":3,"file":"TrailMaker.9f438b9d.js.map"}